import random

from Role import Role, Team
from main import Bot_db

lex: dict[str, str] = {
    'help_nick': '–°–µ–π—á–∞—Å —Ç–µ–±–µ –Ω—É–∂–Ω–æ –ø—Ä–∏–¥—É–º–∞—Ç—å –∏ –Ω–∞–ø–∏—Å–∞—Ç—å –º–Ω–µ —Å–≤–æ–π –Ω–∏–∫–Ω–µ–π–º.',
    'help_main': '–ß—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –∏–≥—Ä—É, –Ω–∞–∂–º–∏ "–ù–∞–π—Ç–∏ –∏–≥—Ä—É". –ß—Ç–æ —É–∑–Ω–∞—Ç—å –ø—Ä–∞–≤–∏–ª–∞, –∏—Å–ø–æ–ª—å–∑—É–π /rules.',
    'command_start': '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –º–∞—Ñ–∏—é! –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–ø—Ä–∞–≤—å –º–Ω–µ —Å–≤–æ–π –Ω–∏–∫–Ω–µ–π–º, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ –∏–≥—Ä–∞—Ö.',
    'command_rename': '–¢–≤–æ–π –Ω–∏–∫–Ω–µ–π–º —Å–±—Ä–æ—à–µ–Ω. –¢–µ–ø–µ—Ä—å –æ—Ç–ø—Ä–∞–≤—å –º–Ω–µ –Ω–æ–≤—ã–π.',
    'command_rules': '–ò—Ç–∞–∫, –≤ —ç—Ç–æ–π –∏–≥—Ä–µ –≤—Å–µ –∏–≥—Ä–æ–∫–∏ –¥–µ–ª—è—Ç—Å—è –Ω–∞ –¥–≤–µ –∫–æ–º–∞–Ω–¥—ã: –º–∏—Ä–Ω—ã–µ –∂–∏—Ç–µ–ª–∏ üëî –∏ –º–∞—Ñ–∏—è üî™.\n–¶–µ–ª—å –º–∏—Ä–Ω—ã—Ö '
                     '–∂–∏—Ç–µ–ª–µ–π: –≤—ã—á–∏—Å–ª–∏—Ç—å –∏ –∏–∑–≥–Ω–∞—Ç—å –º–∞—Ñ–∏—é.\n–¶–µ–ª—å –º–∞—Ñ–∏–∏: –∑–∞—Ö–≤–∞—Ç–∏—Ç—å –≤–ª–∞—Å—Ç—å –Ω–∞–¥ –≥–æ—Ä–æ–¥–æ–º. –î–ª—è —ç—Ç–æ–≥–æ '
                     '–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ, —á—Ç–æ–±—ã —á–ª–µ–Ω–æ–≤ –º–∞—Ñ–∏–∏ –æ—Å—Ç–∞–ª–æ—Å—å –Ω–µ –º–µ–Ω—å—à–µ, —á–µ–º –º–∏—Ä–Ω—ã—Ö –∂–∏—Ç–µ–ª–µ–π.\n\n–ò–≥—Ä–∞ —Ü–∏–∫–ª–∏—á–Ω–æ –∏–¥—ë—Ç '
                     '—á–µ—Ä–µ–∑ 2 —Ñ–∞–∑—ã: üåÖ –¥–µ–Ω—å –∏ üåÉ –Ω–æ—á—å.\n\n–ù–æ—á—å—é –æ–±—ã—á–Ω—ã–µ –∂–∏—Ç–µ–ª–∏ —Å–ø—è—Ç, –∞ –º–∞—Ñ–∏—è –≤—ã–±–∏—Ä–∞–µ—Ç, '
                     '–Ω–∞ –∫–æ–≥–æ —Å–æ–≤–µ—Ä—à–∏—Ç—å –Ω–∞–ø–∞–¥–µ–Ω–∏–µ. –ù–æ –≥–æ—Ä–æ–∂–∞–Ω–µ –Ω–µ —Ç–∞–∫ —É–∂ –±–µ–∑–∑–∞—â–∏—Ç–Ω—ã - —É –Ω–∏—Ö –µ—Å—Ç—å —Ä–∞–∑–Ω—ã–µ —Ä–æ–ª–∏, '
                     '–∫–æ—Ç–æ—Ä—ã–µ —Ç–æ–∂–µ –ø—Ä–æ—Å—ã–ø–∞—é—Ç—Å—è –Ω–æ—á—å—é –∏ —Å–æ–≤–µ—Ä—à–∞—é—Ç –¥–µ–π—Å—Ç–≤–∏—è: –ª–µ—á–∞—Ç, –ø—Ä–æ–≤–æ–¥—è—Ç –æ–±—ã—Å–∫ –∏ —Ç–¥.\n\n–î–Ω—ë–º –≤—Å–µ '
                     '–∂–∏–≤—ã–µ –∏–≥—Ä–æ–∫–∏ –ø—Ä–æ—Å—ã–ø–∞—é—Ç—Å—è, –≤–∏–¥—è—Ç –∏—Ç–æ–≥–∏ –Ω–æ—á–∏ –∏ –≤ —Ç–µ—á–µ–Ω–∏–µ 1,5 –º–∏–Ω—É—Ç –æ–±—Å—É–∂–¥–∞—é—Ç, –∫—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å '
                     '–º–∞—Ñ–∏–µ–π. –í—ã –º–æ–∂–µ—Ç–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–µ, –≥–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è; –≤–∏–¥–µ–æ—Å–æ–æ–±—â–µ–Ω–∏—è; —Å—Ç–∏–∫–µ—Ä—ã; –∏ –∏—Ö '
                     '—É–≤–∏–¥—è—Ç –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∏–≥—Ä–æ–∫–∏ (–ù–µ —Å–ø–∞–º—å—Ç–µ! –°–æ–æ–±—â–µ–Ω–∏—è, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã–µ —á–∞—â–µ, —á–µ–º —Ä–∞–∑ –≤ 5 —Å–µ–∫—É–Ω–¥, '
                     '–ø—Ä–∏—Ö–æ–¥–∏—Ç—å –Ω–µ –±—É–¥—É—Ç!). –ü–æ –æ–∫–æ–Ω—á–∞–Ω–∏—é –æ–±—Å—É–∂–¥–µ–Ω–∏—è –¥–∞—ë—Ç—Å—è 20 —Å–µ–∫—É–Ω–¥ –Ω–∞ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ. –ò–≥—Ä–æ–∫, '
                     '–ø–æ–ª—É—á–∏–≤—à–∏–π –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –≥–æ–ª–æ—Å–æ–≤, –∏–∑–≥–æ–Ω—è–µ—Ç—Å—è –∏–∑ –∏–≥—Ä—ã.\n\n–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–º–æ—â–∏ –ø–æ –æ—Ç–¥–µ–ª—å–Ω—ã–º '
                     '—Ä–æ–ª—è–º, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏.',
    'rename_expection': '–í—ã –Ω–µ –º–æ–∂–µ—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–∏–∫–Ω–µ–π–º, —Å–æ–≤–ø–∞–¥–∞—é—â–∏–π —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –æ–¥–Ω–æ–π –∏–∑ —Ä–æ–ª–µ–π! –í–≤–µ–¥–∏—Ç–µ –¥—Ä—É–≥–æ–µ –∏–º—è.',
    'main_menu': '–ë—ã—Å—Ç—Ä–∞—è –∏–≥—Ä–∞ –ø–æ–¥–∫–ª—é—á–∏—Ç –≤–∞—Å –∫ –±–ª–∏–∂–∞–π—à–µ–π –∫ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—é –æ—á–µ—Ä–µ–¥–∏.\n\n–ù–∞–∂–∞–≤ "–ò–≥—Ä—ã —Å –æ–∂–∏–¥–∞–Ω–∏–µ–º –∏–≥—Ä–æ–∫–æ–≤", '
                 '–≤—ã —É–≤–∏–¥–∏—Ç–µ —Å–ø–∏—Å–æ–∫ –∏–≥—Ä –∏ —Å–º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å, –∫ –∫–∞–∫–æ–π –∏–∑ –Ω–∏—Ö –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è.\n\n–í –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–≥—Ä–∞—Ö '
                 '–æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∏–≥—Ä—ã, –∏–¥—É—â–∏–µ –≤ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç. –ö –Ω–∏–º –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –≤ –∫–∞—á–µ—Å—Ç–≤–µ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è.',
    'back': '–ù–∞–∑–∞–¥',
    'forward': '–í–ø–µ—Ä—ë–¥',
    'button_cancel': '–û—Ç–º–µ–Ω–∞',
    'no_active_games': '–°–µ–π—á–∞—Å –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∏–≥—Ä.',
    'no_wait_games': '–°–µ–π—á–∞—Å –Ω–µ—Ç –æ–∂–∏–¥–∞–Ω–∏–π –∏–≥—Ä.',
    'req_private_game': '–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –ø—Ä–∏–≤–∞—Ç–Ω–æ–π –∏–≥—Ä—ã.',
    'req_correct_code': '–¢–∞–∫–æ–π –∏–≥—Ä—ã –Ω–µ—Ç, –≤–≤–µ–¥–∏—Ç–µ –¥—Ä—É–≥–æ–π –∫–æ–¥.',
    'button_main_menu': '–ú–µ–Ω—é –∏–≥—Ä',
    'button_game_start': '–ë—ã—Å—Ç—Ä–∞—è –∏–≥—Ä–∞',
    'button_game_list': '–ê–∫—Ç–∏–≤–Ω—ã–µ –∏–≥—Ä—ã',
    'button_game_wait': '–ò–≥—Ä—ã —Å –æ–∂–∏–¥–∞–Ω–∏–µ–º –∏–≥—Ä–æ–∫–æ–≤',
    'button_private_game': '–ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –ø—Ä–∏–≤–∞—Ç–Ω–æ–π –∏–≥—Ä–µ',
    'button_create_game': '–°–æ–∑–¥–∞—Ç—å –∏–≥—Ä—É',
    'button_leave_game': '–í—ã–π—Ç–∏ –∏–∑ –∏–≥—Ä—ã',
    'button_rules_common': '–ú–∏—Ä–Ω—ã–π –∂–∏—Ç–µ–ª—å',
    'button_rules_ghost': '–ü—Ä–∏–∑—Ä–∞–∫',
    'button_rules_killer': '–£–±–∏–π—Ü–∞',
    'button_rules_doctor': '–î–æ–∫—Ç–æ—Ä',
    'button_rules_sheriff': '–®–µ—Ä–∏—Ñ',
    'button_rules_beauty': '–ö—Ä–∞—Å–æ—Ç–∫–∞',
    'button_rules_godfather': '–ö—Ä—ë—Å—Ç–Ω—ã–π –æ—Ç–µ—Ü',
    'button_rules_immortal': '–ë–µ—Å—Å–º–µ—Ä—Ç–Ω—ã–π',
    'button_rules_medium': '–ú–µ–¥–∏—É–º',
    'general_rules': '–î–µ–Ω—å: –≤—Å–µ —Ä–æ–ª–∏ –æ–±—Å—É–∂–¥–∞—é—Ç, –∫—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–∞—Ñ–∏–µ–π –∏ –≤—ã–≥–æ–Ω—è—é—Ç –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ–º –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤.\n\n',
    'rules_common': '–ù–æ—á—å: —Å–ø–∏—Ç, –Ω–µ—Ç –¥–µ–π—Å—Ç–≤–∏–π.',
    'rules_ghost': '–ï—Å–ª–∏ –≤–∞—Å —É–±–∏–ª–∏ –∏–ª–∏ –∏–∑–≥–Ω–∞–ª–∏, –≤—ã —Å—Ç–∞–Ω–æ–≤–∏—Ç–µ—Å—å –ø—Ä–∏–∑—Ä–∞–∫–æ–º. –¢–µ–ø–µ—Ä—å –≤—ã –Ω–µ –º–æ–∂–µ—Ç–µ —Å–æ–≤–µ—Ä—à–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏—è, –≥–æ–ª–æ—Å–æ–≤–∞—Ç—å –∏ —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –æ–±—Å—É–∂–¥–µ–Ω–∏–∏.',
    'rules_killer': '–ù–æ—á—å: –≤—ã–±–∏—Ä–∞–µ—Ç, –Ω–∞ –∫–æ–≥–æ –∏–∑ –∏–≥—Ä–æ–∫–æ–≤ —Å–æ–≤–µ—Ä—à–∏—Ç—å –ø–æ–∫—É—à–µ–Ω–∏–µ. –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–µ—à–∞–µ—Ç, —Ç–æ –∫ —É—Ç—Ä—É —Ü–µ–ª—å '
                    '–±—É–¥–µ—Ç –º–µ—Ä—Ç–≤–∞. –ï—Å–ª–∏ —É–±–∏–π—Ü –Ω–µ—Å–∫–æ–ª—å–∫–æ, —Ç–æ –Ω–æ—á—å—é –æ–Ω–∏ –º–æ–≥—É—Ç –æ–±—Å—É–∂–¥–∞—Ç—å –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º, '
                    '–∑–∞ –∫–æ–≥–æ –ø—Ä–æ–≥–æ–ª–æ—Å–æ–≤–∞—Ç—å. –¶–µ–ª—å, –≤—ã–±—Ä–∞–Ω–Ω–∞—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ–º, —Å—Ç–∞–Ω–µ—Ç –æ–±—â–µ–π —Ü–µ–ª—å—é –∏ –ø–æ–ª—É—á–∏—Ç –æ—á–∫–∏ —Å–º–µ—Ä—Ç–∏ –æ—Ç '
                    '–≤—Å–µ—Ö —É–±–∏–π—Ü (–ü—Ä–∏–º–µ—Ä: –¥–≤–æ–µ —É–±–∏–π—Ü –≤—ã–±—Ä–∞–ª–∏ –∏–≥—Ä–æ–∫–∞ –ú–ò–†–ù–´–ô2003, –∞ —Ç—Ä–µ—Ç–∏–π –≤—ã–±—Ä–∞–ª –∏–≥—Ä–æ–∫–∞ '
                    '–®–ï–†–ò–§_–°_–ü–ò–°–¢–û–õ–ï–¢–û–ú. –¶–µ–ª—å—é —É–±–∏–π—Å—Ç–≤–∞ —Å—Ç–∞–Ω–µ—Ç –∏–≥—Ä–æ–∫ –ú–ò–†–ù–´–ô2003 –∏ –ø–æ–ª—É—á–∏—Ç 3 –æ—á–∫–∞ —Å–º–µ—Ä—Ç–∏ (–æ—Ç –≤—Å–µ—Ö —Ç—Ä—ë—Ö '
                    '—É–±–∏–π—Ü). –ó–Ω–∞—á–∏—Ç –æ–Ω –º–æ–∂–µ—Ç –≤—ã–∂–∏—Ç—å, –µ—Å–ª–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä, –µ–≥–æ –≤—ã–ª–µ—á–∞—Ç —Ç—Ä–∏ –¥–æ–∫—Ç–æ—Ä–∞). –ï—Å–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ü–µ–ª–µ–π '
                    '–ø–æ–ª—É—á–∏–ª–∏ —Ä–∞–≤–Ω–æ–µ —á–∏—Å–ª–æ –≥–æ–ª–æ—Å–æ–≤, —Ç–æ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å–ª—É—á–∞–π–Ω–∞—è –∏–∑ –Ω–∏—Ö.',
    'rules_doctor': '–ù–æ—á—å: –≤—ã–±–∏—Ä–∞–µ—Ç, –∫–æ–≥–æ –∏–∑ –∏–≥—Ä–æ–∫–æ–≤ –≤—ã–ª–µ—á–∏—Ç—å. –ï—Å–ª–∏ –Ω–∞ —ç—Ç–æ–≥–æ –∏–≥—Ä–æ–∫–∞ –±—ã–ª–æ —Å–æ–≤–µ—Ä—à–µ–Ω–æ –ø–æ–∫—É—à–µ–Ω–∏–µ, '
                    '—Ç–æ –∫ —É—Ç—Ä—É –æ–Ω –≤—ã–∂–∏–≤–µ—Ç.\n–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –µ—Å–ª–∏ —É–±–∏–π—Ü –Ω–µ—Å–∫–æ–ª—å–∫–æ, —Ç–æ –¥–æ–∫—Ç–æ—Ä –∑–∞—â–∏—â–∞–µ—Ç –∏–≥—Ä–æ–∫–∞ —Ç–æ–ª—å–∫–æ –æ—Ç '
                    '–æ–¥–Ω–æ–≥–æ –≤—ã—Å—Ç—Ä–µ–ª–∞ (—É–±–∏—Ä–∞–µ—Ç –æ–¥–Ω–æ –æ—á–∫–æ —Å–º–µ—Ä—Ç–∏) –∏ –ø–∞—Ü–∏–µ–Ω—Ç –º–æ–∂–µ—Ç —É–º–µ—Ä–µ—Ç—å –æ—Ç –æ—Å—Ç–∞–ª—å–Ω—ã—Ö.',
    'rules_sheriff': '–ù–æ—á—å: –≤—ã–±–∏—Ä–∞–µ—Ç, –∫–æ–≥–æ –∏–∑ –∏–≥—Ä–æ–∫–æ–≤ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ —É–∑–Ω–∞—ë—Ç –µ–≥–æ —Ä–æ–ª—å.',
    'rules_beauty': '–ù–æ—á—å: –≤—ã–±–∏—Ä–∞–µ—Ç, —á—å—ë –¥–µ–π—Å—Ç–≤–∏–µ —ç—Ç–æ–π –Ω–æ—á—å—é –±—É–¥–µ—Ç –æ—Ç–º–µ–Ω–µ–Ω–æ (–Ω–∞ —à–µ—Ä–∏—Ñ–∞ –Ω–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è). '
                    '–ü—Ä–∏–º–µ—Ä—ã: –µ—Å–ª–∏ –±—ã–ª –≤—ã–±—Ä–∞–Ω –¥–æ–∫—Ç–æ—Ä, —Ç–æ –µ–≥–æ –ª–µ—á–µ–Ω–∏–µ –Ω–µ –∑–∞—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è (—É–±–∏—Ä–∞–µ—Ç –æ–¥–Ω–æ –æ—á–∫–æ –ª–µ—á–µ–Ω–∏—è); '
                    '–µ—Å–ª–∏ –±—ã–ª –≤—ã–±—Ä–∞–Ω —É–±–∏–π—Ü–∞, —Ç–æ —É–±–∏–π—Å—Ç–≤–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç (—É–±–∏—Ä–∞–µ—Ç –æ–¥–Ω–æ –æ—á–∫–æ —Å–º–µ—Ä—Ç–∏).\n–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –µ—Å–ª–∏ '
                    '—É–±–∏–π—Ü –Ω–µ—Å–∫–æ–ª—å–∫–æ, —Ç–æ –∫—Ä–∞—Å–æ—Ç–∫–∞ –æ—Ç–≤–ª–µ–∫–∞–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–Ω–æ–≥–æ, –¥—Ä—É–≥–∏–µ –≤—Å—ë —Ä–∞–≤–Ω–æ —Å–æ–≤–µ—Ä—à–∞—é—Ç —É–±–∏–π—Å—Ç–≤–æ.',
    'rules_godfather': '–ù–æ—á—å: –ø—Ä–æ—Å—ã–ø–∞–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å —É–±–∏–π—Ü–∞–º–∏, –º–æ–∂–µ—Ç —Å –Ω–∏–º–∏ –æ–±—Å—É–∂–¥–∞—Ç—å –ø–æ–∫—É—à–µ–Ω–∏–µ, –Ω–æ –Ω–µ –≥–æ–ª–æ—Å—É–µ—Ç –∑–∞ '
                       '–∂–µ—Ä—Ç–≤—É. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –≤—ã–±–∏—Ä–∞–µ—Ç –∏–≥—Ä–æ–∫–∞, –∫–æ—Ç–æ—Ä—ã–π –¥–Ω—ë–º –±—É–¥–µ—Ç –º–æ–ª—á–∞—Ç—å –∏ –Ω–µ –ø—Ä–∏–º–µ—Ç —É—á–∞—Å—Ç–∏—è –≤ '
                       '–≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–∏.',
    'rules_immortal': '–ù–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —É–±–∏—Ç. –¢–æ–ª—å–∫–æ –∏–≥–Ω–∞–Ω –¥–Ω–µ–≤–Ω—ã–º –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ–º.',
    'rules_medium': '–ù–æ—á—å: –≤—ã–±–∏—Ä–∞–µ—Ç –æ–¥–Ω–æ–≥–æ –ø—Ä–∏–∑—Ä–∞–∫–∞, —Å –∫–æ—Ç–æ—Ä—ã–º –º–æ–∂–µ—Ç –æ–±—â–∞—Ç—å—Å—è –¥–æ –Ω–∞—Å—Ç—É–ø–ª–µ–Ω–∏—è –¥–Ω—è. –ú–µ–¥–∏—É–º –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –ª—é–±—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –ø—Ä–∏–∑—Ä–∞–∫ - —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ.',
    'team': '–ö–æ–º–∞–Ω–¥–∞:',
    'waiting': '–ò—â–µ–º –¥–ª—è –≤–∞—Å —Å–æ–ø–µ—Ä–Ω–∏–∫–æ–≤. –ö–∞–∫ —Ç–æ–ª—å–∫–æ –Ω–∞–±–µ—Ä—ë—Ç—Å—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∏–≥—Ä–æ–∫–æ–≤, –º—ã –Ω–∞—á–Ω—ë–º.',
    'night_common': 'üåÉ –ù–∞—Å—Ç—É–ø–∞–µ—Ç –Ω–æ—á—å. –ú–∏—Ä–Ω—ã–µ –∂–∏—Ç–µ–ª–∏ –∑–∞—Å—ã–ø–∞—é—Ç, –ø—Ä–æ—Å—ã–ø–∞–µ—Ç—Å—è –º–∞—Ñ–∏—è...',
    'night_killer': 'üåÉ –ù–∞—Å—Ç—É–ø–∞–µ—Ç –Ω–æ—á—å. –¢–µ–ø–µ—Ä—å, –∫–æ–≥–¥–∞ –º–∏—Ä–Ω—ã–µ –∂–∏—Ç–µ–ª–∏ —É—Å–Ω—É–ª–∏, –ø—Ä–∏—à–ª–æ –≤—Ä–µ–º—è –≤—ã–±—Ä–∞—Ç—å, –∫—Ç–æ –∏–∑ –Ω–∏—Ö –Ω–µ —É–≤–∏–¥–∏—Ç –∑–∞–≤—Ç—Ä–∞—à–Ω–∏–π –¥–µ–Ω—å...',
    'night_doctor': 'üåÉ –ù–∞—Å—Ç—É–ø–∞–µ—Ç –Ω–æ—á—å. –ë—Ä–∏–≥–∞–¥–∞ —Å–∫–æ—Ä–æ–π –ø–æ–º–æ—â–∏ –≤—ã–µ–∑–∂–∞–µ—Ç, –Ω–æ –ø—Ä–∏–µ—Ö–∞—Ç—å –∫–æ –≤—Å–µ–º –≤—ã –Ω–µ —É—Å–ø–µ–µ—Ç–µ. –ü—Ä–∏—à–ª–æ –≤—Ä–µ–º—è –≤—ã–±—Ä–∞—Ç—å, –∫—Ç–æ —Å–µ–≥–æ–¥–Ω—è –±—É–¥–µ—Ç —Å–ø–∞—Å—ë–Ω.',
    'night_sheriff': 'üåÉ –ù–∞—Å—Ç—É–ø–∞–µ—Ç –Ω–æ—á—å. –£–±–∏–π—Ü–∞ –ø—Ä—è—á–µ—Ç—Å—è –ø–æ–¥ –ª–∏—á–∏–Ω–æ–π –º–∏—Ä–Ω–æ–≥–æ –∂–∏—Ç–µ–ª—è. –ü—Ä–∏—à–ª–æ –≤—Ä–µ–º—è –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–≥–æ-—Ç–æ –∏–∑ –Ω–∏—Ö, —á—Ç–æ–±—ã –≤—ã—á–∏—Å–ª–∏—Ç—å –µ–≥–æ.',
    'night_beauty': 'üåÉ –ù–∞—Å—Ç—É–ø–∞–µ—Ç –Ω–æ—á—å. –ü—Ä–∏—à–ª–æ –≤—Ä–µ–º—è –≤—ã–±—Ä–∞—Ç—å, —á—å—ë –¥–µ–π—Å—Ç–≤–∏–µ —ç—Ç–æ–π –Ω–æ—á—å—é –±—É–¥–µ—Ç –æ—Ç–º–µ–Ω–µ–Ω–æ.',
    'night_godfather': 'üåÉ –ù–∞—Å—Ç—É–ø–∞–µ—Ç –Ω–æ—á—å. –ü—Ä–∏—à–ª–æ –≤—Ä–µ–º—è –≤—ã–±—Ä–∞—Ç—å, –∫—Ç–æ –¥–Ω—ë–º –Ω–µ —Å–º–æ–∂–µ—Ç —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –æ–±—Å—É–∂–¥–µ–Ω–∏–∏ –∏ –≥–æ–ª–æ—Å–æ–≤–∞—Ç—å.',
    'night_medium': 'üåÉ –ù–∞—Å—Ç—É–ø–∞–µ—Ç –Ω–æ—á—å. –ü—Ä–∏—à–ª–æ –≤—Ä–µ–º—è –≤—ã–±—Ä–∞—Ç—å, —Å –∫–∞–∫–∏–º –ø—Ä–∏–∑—Ä–∞–∫–æ–º —Å–≤—è–∑–∞—Ç—å—Å—è.',
    'start_voting': '–û–±—Å—É–∂–¥–µ–Ω–∏–µ –∑–∞–∫–æ–Ω—á–µ–Ω–æ. –ü—Ä–∏—à–ª–æ –≤—Ä–µ–º—è –≤—ã–±—Ä–∞—Ç—å, –∫—Ç–æ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–∑–≥–Ω–∞–Ω.',
    'vote': '–í—ã –ø—Ä–æ–≥–æ–ª–æ—Å–æ–≤–∞–ª–∏ –∑–∞ ',
    'already_voted': '–í—ã —É–∂–µ –ø—Ä–æ–≥–æ–ª–æ—Å–æ–≤–∞–ª–∏!',
    'choose': '–í—ã –≤—ã–±—Ä–∞–ª–∏ ',
    'wait': '. –û–∂–∏–¥–∞–Ω–∏–µ –≤—ã–±–æ—Ä–æ–≤ –¥—Ä—É–≥–∏—Ö –∏–≥—Ä–æ–∫–æ–≤.',
    'his_role': '–ï–≥–æ/–µ—ë —Ä–æ–ª—å - ',
    'end_defeat': '–ì–æ—Ä–æ–¥ –ø–æ–≥—Ä—É–∑–∏–ª—Å—è –≤ –ø–æ–ª–Ω–æ–µ –±–µ–∑–∑–∞–∫–æ–Ω–∏–µ. –≠—Ç–æ –∫–æ–Ω–µ—Ü –∏–≥—Ä—ã. –ú–∞—Ñ–∏—è —Ç–æ—Ä–∂–µ—Å—Ç–≤—É–µ—Ç.',
    'end_win': '–ú–∏—Ä–Ω—ã–º –∂–∏—Ç–µ–ª—è–º –Ω–∞–∫–æ–Ω–µ—Ü —É–¥–∞–ª–æ—Å—å –ø–æ–±–µ–¥–∏—Ç—å –º–∞—Ñ–∏—é! –¢–µ–ø–µ—Ä—å –≥–æ—Ä–æ–¥ –º–æ–∂–µ—Ç —Å–ø–∞—Ç—å —Å–ø–æ–∫–æ–π–Ω–æ. –≠—Ç–æ –∫–æ–Ω–µ—Ü –∏–≥—Ä—ã.',
    'ghost_message': '–í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –±—ã–ª–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –¥—Ä—É–≥–∏–º –∏–≥—Ä–æ–∫–∞–º, —Ç–∞–∫ –∫–∞–∫ –≤—ã –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å.',
    'observer_add': '–í—ã –ø–æ–¥–∫–ª—é—á–∏–ª–∏—Å—å –∫ –∏–≥—Ä–µ –∫–∞–∫ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å.',
    'kill_player': '–í—ã —Å—Ç–∞–ª–∏ –ø—Ä–∏–∑—Ä–∞–∫–æ–º.',
    'player_leave': '–í—ã –ø–æ–∫–∏–Ω—É–ª–∏ –∏–≥—Ä—É.',
    'full_game': '–≠—Ç–∞ –∏–≥—Ä–∞ —É–∂–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∞!',
    'game_already_end': '–≠—Ç–∞ –∏–≥—Ä–∞ —É–∂–µ –∑–∞–∫–æ–Ω—á–∏–ª–∞—Å—å!',
    'no_games': '–°–µ–π—á–∞—Å –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∏–≥—Ä, –≤—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å —Å–≤–æ—é.',
    'this_mute': '–í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —á–∞—Ç.',
    'no_voted': '–í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –≥–æ–ª–æ—Å–æ–≤–∞—Ç—å',
    'player_num': '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–≥—Ä–æ–∫–æ–≤',
    'made_public': '–°–¥–µ–ª–∞—Ç—å –ø—É–±–ª–∏—á–Ω–æ–π üîä',
    'made_private': '–°–¥–µ–ª–∞—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω–æ–π üîí',
    'close_editor': '‚úÖ–ó–∞–≤–µ—Ä—à–∏—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ‚úÖ',
    'bug': '–û—à–∏–±–∫–∞!',
    'your_code': '–ö–æ–¥ –∏–≥—Ä—ã. –î–∞–π—Ç–µ –µ–≥–æ —Å–≤–æ–∏–º –¥—Ä—É–∑—å—è–º, —á—Ç–æ–±—ã –æ–Ω–∏ —Å–º–æ–≥–ª–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –≤–∞–º:\n\n',
    'medium_connect_to': '–° –≤–∞–º–∏ —Å–≤—è–∑–∞–ª—Å—è –º–µ–¥–∏—É–º. –í —Ç–µ—á–µ–Ω–∏–µ –Ω–æ—á–∏ –≤—ã –º–æ–∂–µ—Ç–µ –æ–±—â–∞—Ç—å—Å—è —Å –Ω–∏–º, –Ω–æ —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç–æ–≤—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏.',
    'medium_connect_from': '–í—ã —Å–≤—è–∑–∞–ª–∏—Å—å —Å –ø—Ä–∏–∑—Ä–∞–∫–æ–º. –í —Ç–µ—á–µ–Ω–∏–µ –Ω–æ—á–∏ –≤—ã –º–æ–∂–µ—Ç–µ –æ–±—â–∞—Ç—å—Å—è —Å –Ω–∏–º.',
    'skip': '–ü—Ä–æ–ø—É—Å–∫',
    'skip_m': '–í—ã –ø—Ä–æ–ø—É—Å—Ç–∏–ª–∏ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ.'
}


def m_setup_nick(nick: str):
    return f'–ü—Ä–µ–∫—Ä–∞—Å–Ω–æ, {nick}, —Ç–µ–ø–µ—Ä—å –º—ã –º–æ–∂–µ–º –ø—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ –∏–≥—Ä–µ. –ï—Å–ª–∏ —Ç—ã –Ω–µ –∑–Ω–∞–µ—à—å –ø—Ä–∞–≤–∏–ª–∞, —Ç–æ —Å–µ–π—á–∞—Å —è –≤—Å—ë ' \
           f'–æ–±—ä—è—Å–Ω—é.\n\n{lex["command_rules"]}\n\n–ù–∞–∂–º–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É "–ù–∞–π—Ç–∏ –∏–≥—Ä—É", –∫–æ–≥–¥–∞ –∑–∞—Ö–æ—á–µ—à—å –ø–æ–∏–≥—Ä–∞—Ç—å. '


def m_start_game(players: list):
    roles = []
    player_names = []
    for player in players:
        player_names.append(Bot_db.get_username(player.id))
        roles.append(str(player.role))
    random.shuffle(roles)
    return f'–ò–≥—Ä–∞ –Ω–∞—á–∞–ª–∞—Å—å! –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å {", ".join(player_names)}. \n\n–í –ø–æ—Å–ª–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –≤ –º–∞–ª–µ–Ω—å–∫–æ–º –≥–æ—Ä–æ–¥–µ –Ω–µ—Å–ø–æ–∫–æ–π–Ω–æ. –°—Ç—Ä–∞—à–Ω—ã–µ –≤–µ—â–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –ø–æ –Ω–æ—á–∞–º.\n\n–†–æ–ª–∏: {", ".join(roles)}.'


def m_player_role(player):
    role = player.role
    task = ''
    if role is Role.killer:
        task = '—É–±–∏–≤–∞—Ç—å –º–∏—Ä–Ω—ã—Ö –∂–∏—Ç–µ–ª–µ–π –ø–æ –Ω–æ—á–∞–º –∏ –Ω–µ –≤—ã–∑—ã–≤–∞—Ç—å –ø–æ–¥–æ–∑—Ä–µ–Ω–∏–π –¥–Ω—ë–º.'
    elif role is Role.common:
        task = '–Ω–∞–π—Ç–∏ —É–±–∏–π—Ü—É –∏ –∏–∑–≥–Ω–∞—Ç—å –µ–≥–æ, —á—Ç–æ–±—ã –ø—Ä–µ–∫—Ä–∞—Ç–∏—Ç—å —ç—Ç–∏ –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏—è.'
    elif role is Role.doctor:
        task = '–¥–æ–≥–∞–¥–∞—Ç—å—Å—è, –∫–æ–≥–æ –≤—ã–±—Ä–∞–ª–∞ —Å–µ–≥–æ–¥–Ω—è –º–∞—Ñ–∏—è, –∏ –≤—ã–ª–µ—á–∏—Ç—å –µ–≥–æ.'
    elif role is Role.sheriff:
        task = '–Ω–∞–π—Ç–∏ —É–±–∏–π—Ü—É. –í—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ–≤–µ—Å—Ç–∏ –æ–±—ã—Å–∫ —É –ª—é–±–æ–≥–æ –∏–≥—Ä–æ–∫–∞ –∏ —É–∑–Ω–∞—Ç—å, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –æ–Ω –º–∞—Ñ–∏–µ–π.'
    elif role is Role.beauty:
        task = '–≤—ã–±–∏—Ä–∞—Ç—å –∏–≥—Ä–æ–∫–∞, —á—å—ë –¥–µ–π—Å—Ç–≤–∏–µ —ç—Ç–æ–π –Ω–æ—á—å—é –±—É–¥–µ—Ç –æ—Ç–º–µ–Ω–µ–Ω–æ.'
    elif role is Role.godfather:
        task = '–≤—ã–±–∏—Ä–∞—Ç—å –∏–≥—Ä–æ–∫–∞, –∫–æ—Ç–æ—Ä—ã–π –¥–Ω—ë–º –±—É–¥–µ—Ç –º–æ–ª—á–∞—Ç—å –∏ –Ω–µ –ø—Ä–∏–º–µ—Ç —É—á–∞—Å—Ç–∏–µ –≤ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–∏.'
    elif role is Role.immortal:
        task = '–Ω–∞–π—Ç–∏ —É–±–∏–π—Ü—É –∏ –∏–∑–≥–Ω–∞—Ç—å –µ–≥–æ. –í—ã –Ω–µ –º–æ–∂–µ—Ç–µ –±—ã—Ç—å —É–±–∏—Ç—ã –Ω–æ—á—å—é.'
    elif role is Role.medium:
        task = '–æ–±—â–∞—Ç—å—Å—è —Å –ø—Ä–∏–∑—Ä–∞–∫–∞–º–∏, —á—Ç–æ–±—ã –±–æ–ª—å—à–µ —É–∑–Ω–∞—Ç—å –æ –ø–æ—Ç–∞—ë–Ω–Ω–æ–π —Å—Ç–æ—Ä–æ–Ω–µ –∏–≥—Ä—ã.'
    return f'–í—ã - {str(role)}. –í–∞—à–∞ –∑–∞–¥–∞—á–∞ {task}'


def m_team_killers(this, players):
    team = []
    for player in players:
        if player.role.get_team() is Team.mafia and player != this:
            team.append(Bot_db.get_username(player.id))
    if len(team) == 0:
        return ''
    elif len(team) == 1:
        text = ''
    else:
        text = '–∏'
    return f'–í–∞—à{text} —Å–æ—é–∑–Ω–∏–∫{text}: {", ".join(team)}. –° –Ω–∏–º{text} –≤—ã –±—É–¥–µ—Ç–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —É–±–∏–π—Å—Ç–≤–∞.'


def m_result_night(players: list):
    victims = []
    cancelled = []
    mute = []
    alives = []
    mes = []
    for player in players:
        if player.choosen_beauty > 0:
            cancelled.append(player)
        if player.choosen_kill > 0:
            victims.append(player)
        if player.choosen_godfather > 0:
            mute.append(player)

    final_victim = None
    if len(victims) > 0:
        max_point = 0
        prior_victim = []
        for vict in victims:
            if vict.choosen_kill > max_point:
                max_point = vict.choosen_kill
                prior_victim = [vict]
            elif vict.choosen_kill == max_point:
                prior_victim.append(vict)
        final_victim = random.choice(prior_victim)
        for vict in victims:
            if vict != final_victim:
                final_victim.choosen_kill += vict.choosen_kill
                vict.choosen_kill = 0

    mes_start = ''
    if final_victim is not None:
        final_victim.choosen_kill -= final_victim.choosen_doctor
        if final_victim.choosen_kill == 0:
            mes.append(
                f'–±—ã–ª–æ —Å–æ–≤–µ—Ä—à–µ–Ω–æ –ø–æ–∫—É—à–µ–Ω–∏–µ –Ω–∞ {Bot_db.get_username(final_victim.id)}, –Ω–æ –¥–æ–∫—Ç–æ—Ä—É —É–¥–∞–ª–æ—Å—å –µ–≥–æ/–µ—ë —Å–ø–∞—Å—Ç–∏')
        elif final_victim.role is not Role.immortal:
            mes_start = '—Å—Ä–µ–¥–∏ –Ω–∏—Ö –Ω–µ—Ç:\n'
    else:
        mes.append('–≤—Å–µ –æ—Å—Ç–∞–ª–∏—Å—å –∂–∏–≤—ã')

    for player in players:
        if player.role is Role.immortal:
            player.choosen_kill = 0
        if player.choosen_kill > 0:
            mes.append(f'{mes_start}{Bot_db.get_username(player.id)}, —Ä–æ–ª—å - {str(player.role)}')
            mes_start = ''
        elif player.role is not Role.observer:
            alives.append(player)

    if len(mes) == 0:
        mes.append('–≤—Å–µ –æ—Å—Ç–∞–ª–∏—Å—å –∂–∏–≤—ã')

    for cancel in cancelled:
        mes.append(f'–ö—Ä–∞—Å–æ—Ç–∫–∞ –ø—Ä–æ–≤–µ–ª–∞ –Ω–æ—á—å —Å {str(cancel.role)}')
    for m in mute:
        mes.append(f'–ë—É–¥–µ—Ç –º–æ–ª—á–∞—Ç—å —Å–µ–≥–æ–¥–Ω—è {Bot_db.get_username(m.id)}')
    mes = ';\n'.join(mes)
    alives = [Bot_db.get_username(i.id) for i in alives]
    return f'üåÖ –ù–∞—Å—Ç—É–ø–∞–µ—Ç –¥–µ–Ω—å. –ú–∏—Ä–Ω—ã–µ –∂–∏—Ç–µ–ª–∏ –ø—Ä–æ—Å—ã–ø–∞—é—Ç—Å—è –∏ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—é—Ç, —á—Ç–æ —Å–µ–≥–æ–¥–Ω—è {mes}.' \
           f'\n\n–ñ–∏—Ç–µ–ª–∏ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è, —á—Ç–æ–±—ã –æ–±—Å—É–¥–∏—Ç—å –≥–ª–∞–≤–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –Ω–∞ –ø–æ–≤–µ—Å—Ç–∫–µ –¥–Ω—è.\n\n–í –∏–≥—Ä–µ –æ—Å—Ç–∞–ª–∏—Å—å: {", ".join(alives)}.'


# def m_result_night(players: list):
#     victims = []
#     healed = []
#     cancelled = []
#     alives = []
#     mes = []
#     kill_point = 0
#     for player in players:
#         if player.choosen_doctor > 0:
#             healed.append(player)
#         if player.choosen_beauty > 0:
#             cancelled.append(player)
#         if player.choosen_kill > 0:
#             victims.append(player)
#         elif player.role is not Role.observer:
#             alives.append(player)
#
#     if len(healed) != 0:
#         for patient in healed:
#             if victims.__contains__(patient):
#                 patient.choosen_kill -= patient.choosen_doctor  # –≠—Ç–æ –ª–æ–≥–∏–∫–∞, –∫–æ—Ç–æ—Ä–æ–π —Ç—É—Ç –±—ã—Ç—å –Ω–µ –¥–æ–ª–∂–Ω–æ! –ù–æ –æ–Ω–∞ —Ç–∞–∫–∞—è —É–¥–æ–±–Ω–∞—è...
#                 if patient.choosen_kill <= 0:
#                     alives.append(patient)
#                     victims.pop(victims.index(patient))
#                     mes.append(f'–±—ã–ª–æ —Å–æ–≤–µ—Ä—à–µ–Ω–æ –ø–æ–∫—É—à–µ–Ω–∏–µ –Ω–∞ {Bot_db.get_username(patient.id)}, –Ω–æ –¥–æ–∫—Ç–æ—Ä—É —É–¥–∞–ª–æ—Å—å –µ–≥–æ/–µ—ë —Å–ø–∞—Å—Ç–∏')
#
#     if len(victims) == 0 and len(mes) == 0:
#         mes.append('–≤—Å–µ –æ—Å—Ç–∞–ª–∏—Å—å –∂–∏–≤—ã')
#     else:
#         first = '—Å—Ä–µ–¥–∏ –Ω–∏—Ö –Ω–µ—Ç:\n'
#         final_victims = []
#         max_choosed = 0
#         #print(str([vict.role for vict in victims]))
#         for vict in victims:
#             if vict.choosen_kill > max_choosed:
#                 max_choosed = vict.choosen_kill
#                 for old in final_victims:
#                     old.choosen_kill = 0
#                     alives.append(old)
#                 final_victims = [vict]
#             elif vict.choosen_kill == max_choosed:
#                 final_victims.append(vict)
#             else:
#                 vict.choosen_kill = 0
#                 alives.append(vict)
#         #print(str([vict.role for vict in final_victims]))
#         if len(final_victims) > 0:
#             final_victim = random.choice(final_victims)
#             final_victim.choosen_kill = kill_point
#             final_victims.pop(final_victims.index(final_victim))
#             for vict in final_victims:
#                 vict.choosen_kill = 0
#                 alives.append(vict)
#             mes.append(f'{first}{Bot_db.get_username(final_victim.id)}, —Ä–æ–ª—å - {str(final_victim.role)}')
#             # first = ''
#     if len(cancelled) != 0:
#         for cancel in cancelled:
#             mes.append(f'–ö—Ä–∞—Å–æ—Ç–∫–∞ –ø—Ä–æ–≤–µ–ª–∞ –Ω–æ—á—å —Å {str(cancel.role)}')
#     mes = ';\n'.join(mes)
#     # print(alives)
#     # print(str([str(vict.role) for vict in alives]))
#     alives = [Bot_db.get_username(i.id) for i in alives]
#     return f'üåÖ –ù–∞—Å—Ç—É–ø–∞–µ—Ç –¥–µ–Ω—å. –ú–∏—Ä–Ω—ã–µ –∂–∏—Ç–µ–ª–∏ –ø—Ä–æ—Å—ã–ø–∞—é—Ç—Å—è –∏ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—é—Ç, —á—Ç–æ —Å–µ–≥–æ–¥–Ω—è {mes}.' \
#            f'\n\n–ñ–∏—Ç–µ–ª–∏ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è, —á—Ç–æ–±—ã –æ–±—Å—É–¥–∏—Ç—å –≥–ª–∞–≤–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –Ω–∞ –ø–æ–≤–µ—Å—Ç–∫–µ –¥–Ω—è.\n\n–í –∏–≥—Ä–µ –æ—Å—Ç–∞–ª–∏—Å—å: {", ".join(alives)}.'


def m_result_voting(target: list):
    if len(target) == 1:
        return f'{Bot_db.get_username(target[0].id)} –∏–∑–≥–Ω–∞–Ω(–∞) –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è. –û–Ω(–∞) –±—ã–ª(–∞) {str(target[0].role)}.'
    elif len(target) == 0:
        return '–ë—ã–ª–æ –ø—Ä–∏–Ω—è—Ç–æ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ.'
    else:
        return '–ì–æ–ª–æ—Å–∞ —Ä–∞–∑–¥–µ–ª–∏–ª–∏—Å—å –∏ –Ω–∏–∫—Ç–æ –Ω–µ –±—ã–ª –∏–∑–≥–Ω–∞–Ω.'


def m_leaders(leaders: dict):
    i = 1
    board = '–î–æ—Å–∫–∞ –ª–∏–¥–µ—Ä–æ–≤:\n'
    for player in leaders:
        if i > 10:
            break
        board += f'{str(i)}) {player}. –ü–æ–±–µ–¥: {leaders[player]}.\n'
        i += 1
    return board


def m_list_game(index, games):
    mes = ''
    i = 1
    size = 8
    for game in games:
        if not game.private:
            if index * size < i <= (index + 1) * size:
                players = [Bot_db.get_username(p.id) for p in game.players if p.role is not Role.observer]
                roles = [str(p.role) for p in game.players if p.role is not Role.observer]
                random.shuffle(roles)
                mes += f'{i}) –ò–≥—Ä–æ–∫–∏: {", ".join(players)}. –†–æ–ª–∏: {", ".join(roles)}.\n'
            i += 1
    mes += '\n–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –Ω–∏–∂–µ, —á—Ç–æ–±—ã –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –∏–≥—Ä–µ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—è.'
    return mes


def m_list_wait(index, lists):
    mes = ''
    i = 1
    size = 8
    for list in lists:
        if not list.private:
            if index * size < i <= (index + 1) * size:
                players = [Bot_db.get_username(p) for p in list.players_id]
                roles = [str(role) for role in list.game_roles]
                random.shuffle(players)
                mes += f'{i}) –ò–≥—Ä–∞ ({len(players)}/{str(list.size_game)}). –ò–≥—Ä–æ–∫–∏: {", ".join(players)}. –†–æ–ª–∏: {", ".join(roles)}.\n'
            i += 1
    mes += '\n–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –Ω–∏–∂–µ, —á—Ç–æ–±—ã –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –∏–≥—Ä–µ.'
    return mes


def m_game_setting(wait_list):
    roles = wait_list.game_roles
    size = wait_list.size_game
    private = '–ø—Ä–∏–≤–∞—Ç–Ω–∞—è' if wait_list.private else '–ø—É–±–ª–∏—á–Ω–∞—è'

    dict_roles = {}
    [dict_roles.update({role: roles.count(role)}) for role in roles]

    mes = f'–ò–≥—Ä–∞ –Ω–∞ {size} –∏–≥—Ä–æ–∫–æ–≤.\n' \
          f'–¢–∏–ø: {private}.\n\n' \
          f'–†–æ–ª–∏:\n'

    for key, value in dict_roles.items():
        key = str(key)
        mes += f'-{value}- ' + key[0].upper() + key[1:] + '\n'

    return mes
